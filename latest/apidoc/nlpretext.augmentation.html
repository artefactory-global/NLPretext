<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>augmentation &mdash; nlpretext  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=b3ba4146"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="basic" href="nlpretext.basic.html" />
    <link rel="prev" title="nlpretext" href="nlpretext.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            nlpretext
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Tutorials:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">nlpretext</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="nlpretext.html"><strong>nlpretext</strong></a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="nlpretext.html#nlpretext.Preprocessor"><code class="docutils literal notranslate"><span class="pre">Preprocessor</span></code></a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#"><strong>augmentation</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-nlpretext.augmentation.text_augmentation">text_augmentation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nlpretext.basic.html"><strong>basic</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="nlpretext.cli.html"><strong>cli</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="nlpretext.social.html"><strong>social</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="nlpretext.token.html"><strong>token</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="nlpretext.html#module-nlpretext.preprocessor">preprocessor</a></li>
<li class="toctree-l3"><a class="reference internal" href="nlpretext.html#module-nlpretext.textloader">textloader</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">nlpretext</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">nlpretext</a></li>
          <li class="breadcrumb-item"><a href="nlpretext.html"><strong>nlpretext</strong></a></li>
      <li class="breadcrumb-item active"><strong>augmentation</strong></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/apidoc/nlpretext.augmentation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-nlpretext.augmentation">
<span id="augmentation"></span><h1><strong>augmentation</strong><a class="headerlink" href="#module-nlpretext.augmentation" title="Permalink to this heading"></a></h1>
<section id="module-nlpretext.augmentation.text_augmentation">
<span id="text-augmentation"></span><h2>text_augmentation<a class="headerlink" href="#module-nlpretext.augmentation.text_augmentation" title="Permalink to this heading"></a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="nlpretext.augmentation.text_augmentation.CouldNotAugment">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CouldNotAugment</span></span><a class="reference internal" href="../_modules/nlpretext/augmentation/text_augmentation.html#CouldNotAugment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpretext.augmentation.text_augmentation.CouldNotAugment" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="nlpretext.augmentation.text_augmentation.UnavailableAugmenter">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">UnavailableAugmenter</span></span><a class="reference internal" href="../_modules/nlpretext/augmentation/text_augmentation.html#UnavailableAugmenter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpretext.augmentation.text_augmentation.UnavailableAugmenter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpretext.augmentation.text_augmentation.augment_text">
<span class="sig-name descname"><span class="pre">augment_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stopwords</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entities</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nlpretext/augmentation/text_augmentation.html#augment_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpretext.augmentation.text_augmentation.augment_text" title="Permalink to this definition"></a></dt>
<dd><p>Given a text with or without associated entities, generate a new text by
modifying some words in the initial one, modifications depend on the chosen
method (substitution with synonym, addition, deletion). If entities are
given as input, they will remain unchanged. If you want some words other
than entities to remain unchanged, specify it within the stopwords argument.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>string</em>) – </p></li>
<li><p><strong>method</strong> (<em>{'wordnet_synonym'</em><em>, </em><em>'aug_sub_bert'}</em>) – augmenter to use (‘wordnet_synonym’ or ‘aug_sub_bert’)</p></li>
<li><p><strong>stopwords</strong> (<em>list</em><em>, </em><em>optional</em>) – list of words to freeze throughout the augmentation</p></li>
<li><p><strong>entities</strong> (<em>list</em><em>, </em><em>optional</em>) – <p>entities associated to text if any, must be in the following format:
[</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>‘entity’: str,
‘word’: str,
‘startCharIndex’: int,
‘endCharIndex’: int</p>
</dd>
</dl>
<p>},
{</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>]</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Augmented text and optional augmented entities</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpretext.augmentation.text_augmentation.process_entities_and_text">
<span class="sig-name descname"><span class="pre">process_entities_and_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">augmented_text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nlpretext/augmentation/text_augmentation.html#process_entities_and_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpretext.augmentation.text_augmentation.process_entities_and_text" title="Permalink to this definition"></a></dt>
<dd><p>Given a list of initial entities, verify that they have not been altered by
the data augmentation operation and are still in the augmented text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entities</strong> (<em>list</em>) – <p>entities associated to text, must be in the following format:
[</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>‘entity’: str,
‘word’: str,
‘startCharIndex’: int,
‘endCharIndex’: int</p>
</dd>
</dl>
<p>},
{</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>]</p>
</p></li>
<li><p><strong>text</strong> (<em>str</em>) – initial text</p></li>
<li><p><strong>augmented_text</strong> (<em>str</em>) – new text resulting of data augmentation operation</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Augmented text and entities with their updated position in augmented text</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpretext.augmentation.text_augmentation.are_entities_in_augmented_text">
<span class="sig-name descname"><span class="pre">are_entities_in_augmented_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">augmented_text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nlpretext/augmentation/text_augmentation.html#are_entities_in_augmented_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpretext.augmentation.text_augmentation.are_entities_in_augmented_text" title="Permalink to this definition"></a></dt>
<dd><p>Given a list of entities, check if all the words associated to each entity
are still present in augmented text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entities</strong> (<em>list</em>) – <p>entities associated to initial text, must be in the following format:
[</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>‘entity’: str,
‘word’: str,
‘startCharIndex’: int,
‘endCharIndex’: int</p>
</dd>
</dl>
<p>},
{</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>]</p>
</p></li>
<li><p><strong>augmented_text</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all entities are present in augmented text, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpretext.augmentation.text_augmentation.get_augmenter">
<span class="sig-name descname"><span class="pre">get_augmenter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stopwords</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nlpretext/augmentation/text_augmentation.html#get_augmenter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpretext.augmentation.text_augmentation.get_augmenter" title="Permalink to this definition"></a></dt>
<dd><p>Initialize an augmenter depending on the given method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>str</em><em> (</em><em>supported methods: wordnet_synonym and aug_sub_bert</em><em>)</em>) – </p></li>
<li><p><strong>stopwords</strong> (<em>list</em>) – list of words to freeze throughout the augmentation</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Initialized nlpaug augmenter</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpretext.augmentation.text_augmentation.get_augmented_entities">
<span class="sig-name descname"><span class="pre">get_augmented_entities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sentence_augmented</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entities</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nlpretext/augmentation/text_augmentation.html#get_augmented_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpretext.augmentation.text_augmentation.get_augmented_entities" title="Permalink to this definition"></a></dt>
<dd><p>Get entities with updated positions (start and end) in augmented text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sentence_augmented</strong> (<em>str</em>) – augmented text</p></li>
<li><p><strong>entities</strong> (<em>list</em>) – <p>entities associated to initial text, must be in the following format:
[</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>‘entity’: str,
‘word’: str,
‘startCharIndex’: int,
‘endCharIndex’: int</p>
</dd>
</dl>
<p>},
{</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>]</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Entities with updated positions related to augmented text</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpretext.augmentation.text_augmentation.clean_sentence_entities">
<span class="sig-name descname"><span class="pre">clean_sentence_entities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entities</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nlpretext/augmentation/text_augmentation.html#clean_sentence_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpretext.augmentation.text_augmentation.clean_sentence_entities" title="Permalink to this definition"></a></dt>
<dd><p>Paired entities check to remove nested entities, the longest entity is kept.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>str</em>) – augmented text</p></li>
<li><p><strong>entities</strong> (<em>list</em>) – <p>entities associated to augmented text, must be in the following format:
[</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>‘entity’: str,
‘word’: str,
‘startCharIndex’: int,
‘endCharIndex’: int</p>
</dd>
</dl>
<p>},
{</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>]</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Cleaned entities</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nlpretext.augmentation.text_augmentation.check_interval_included">
<span class="sig-name descname"><span class="pre">check_interval_included</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nlpretext/augmentation/text_augmentation.html#check_interval_included"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nlpretext.augmentation.text_augmentation.check_interval_included" title="Permalink to this definition"></a></dt>
<dd><p>Comparison of two entities on start and end positions to find if they are nested.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>element1</strong> (<em>dict</em>) – </p></li>
<li><p><strong>element2</strong> (<em>dict</em>) – <p>both of them in the following format
{</p>
<blockquote>
<div><p>’entity’: str,
‘word’: str,
‘startCharIndex’: int,
‘endCharIndex’: int</p>
</div></blockquote>
<p>}</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]]]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>If there is an entity to remove among the two returns a tuple</em></p></li>
<li><p><em>(element to remove, element to keep).</em></p></li>
<li><p><em>If not, returns None</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="nlpretext.html" class="btn btn-neutral float-left" title="nlpretext" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="nlpretext.basic.html" class="btn btn-neutral float-right" title="basic" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: latest
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Tags</dt>
      <dd><a href="../../1.1.0/index.html">1.1.0</a></dd>
      <dd><a href="../../1.2.0/index.html">1.2.0</a></dd>
      <dd><a href="../../1.2.1/index.html">1.2.1</a></dd>
      <dd><a href="../../1.2.2/index.html">1.2.2</a></dd>
      <dd><a href="nlpretext.augmentation.html">latest</a></dd>
    </dl>
    <dl>
      <dt>Branches</dt>
      <dd><a href="../../ci/update-ci-cd/apidoc/nlpretext.augmentation.html">ci/update-ci-cd</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>